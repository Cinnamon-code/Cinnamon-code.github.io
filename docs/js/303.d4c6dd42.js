(self["webpackChunkcinnamon"]=self["webpackChunkcinnamon"]||[]).push([[303],{303:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return S}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[t._m(0),r("h1",{staticClass:"title",on:{click:function(e){return t.$router.push("/articles")}}},[t._v("Articles")]),r("div",{staticClass:"arts"},[0!==t.latestArticles.length?r("div",{staticClass:"arts-inner"},t._l(Math.ceil(t.latestArticles.length/t.blocks),(function(e){return r("el-row",{key:e,attrs:{gutter:30}},t._l(t.latestArticles.slice((e-1)*t.blocks,e*t.blocks),(function(e){return r("el-col",{key:e._id,attrs:{span:24/t.blocks}},[r("el-card",{attrs:{"body-style":{padding:0},shadow:"hover"}},[r("div",{staticClass:"art-img"},[r("img",{attrs:{src:e.coverUrl,alt:"image"}})]),r("s-link",{attrs:{to:"/articles/"+e._id}},[r("h3",[t._v(t._s(e.title))]),r("p",[t._v(t._s(e.digest||""))])]),r("div",{staticClass:"like-comment"},[r("span",[t._v(t._s(e.likes)+" "),r("span",[t._v("like")])]),r("span",[t._v(t._s(e.comments)+" "),r("span",[t._v("comments")])])])],1)],1)})),1)})),1):r("el-empty",{attrs:{description:"还没有文章发布哦，催一下博主吧～"}})],1),r("h1",{staticClass:"title",on:{click:function(e){return t.$router.push("/life")}}},[t._v("Life")]),r("div",{staticClass:"life"},[r("div",{staticClass:"markdown-body"},[r("Life")],1),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{xl:18,lg:17,sm:15,xs:24}},[r("el-carousel",{attrs:{height:"450px",interval:3e3,autoplay:"",loop:"","indicator-position":"none"}},t._l(t.carousel,(function(t){return r("el-carousel-item",{key:t.id},[r("img",{attrs:{src:t.url,alt:"carousel"}})])})),1)],1),r("el-col",{attrs:{xl:6,lg:7,sm:9,xs:24}},[r("s-home-form",{attrs:{"is-login":t.isLogin},on:{switch:function(e){t.isLogin=0===t.isLogin?1:0},login:function(e){t.isLogin=2},logout:function(e){t.isLogin=0}}})],1)],1)],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head-img"},[n("img",{attrs:{src:r(9995),alt:"head image"}})])}],s=r(655),o=r(144),a=r(4662),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("html",[r("head"),r("body",[r("blockquote",[r("p",[t._v("从2019年进入大学以来，经历了很多，从开始的踌躇满志，到后来的接受现实。但与其说是接受现实，不如说是看清自己，找到了适合自己的路。")])]),r("p",[t._v("在大学中收获了很多，不论是编程基础还是编程思想，因为我学的是软件工程专业，所以对于软件开发流程有专门的学习，这也使我开发项目的时候能更加得心应手。 也不知是什么时候接触到前端领域，它确实带给了我很多乐趣，从"),r("code",{pre:!0},[t._v("html")]),t._v(", "),r("code",{pre:!0},[t._v("js")]),t._v(", "),r("code",{pre:!0},[t._v("css")]),t._v("到后来的"),r("code",{pre:!0},[t._v("vue")]),t._v(", "),r("code",{pre:!0},[t._v("react")]),t._v("等等，学习到了很多，也成长了很多。")]),r("h4",[t._v("我还是愿意一直坚持下去。")]),r("iframe",{staticStyle:{width:"100%",overflow:"hidden",background:"transparent"},attrs:{allow:"autoplay *; encrypted-media *; fullscreen *; clipboard-write",frameborder:"0",height:"175",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:"https://embed.music.apple.com/cn/album/living-legend/1584675130?i=1584675294&l=en"}}),r("h4",[t._v("我很喜欢这首歌里的一句话")]),r("blockquote",[r("p",[t._v("I was just living on the edge, right between heaven and hell, and I'm tired of it.")])]),r("p",[t._v("希望我也能成为我自己的"),r("strong",[t._v("Living Legend")]),t._v("。")])])])])}],u=r(1001),d={},f=(0,u.Z)(d,l,c,!1,null,null,null),p=f.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-card",{attrs:{shadow:"none","body-style":{padding:"15px 35px 0"}},scopedSlots:t._u([{key:"header",fn:function(){return[r("span",{staticClass:"header"},[t._v(t._s(0===t.isLogin?"Login":1===t.isLogin?"Register":"Welcome"))])]},proxy:!0}])},[2!==t.isLogin?r("el-form",{ref:"form",attrs:{model:t.models,rules:t.rules}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名",clearable:"","prefix-icon":"el-icon-user"},model:{value:t.models.username,callback:function(e){t.$set(t.models,"username",e)},expression:"models.username"}})],1),r("el-form-item",{ref:"pwdInput",attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:"","show-password":"","prefix-icon":"el-icon-lock"},model:{value:t.models.password,callback:function(e){t.$set(t.models,"password",e)},expression:"models.password"}})],1),1===t.isLogin?r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱",clearable:"","prefix-icon":"el-icon-paperclip"},model:{value:t.models.email,callback:function(e){t.$set(t.models,"email",e)},expression:"models.email"}})],1):t._e()],1):t._e(),2!==t.isLogin?r("div",{staticClass:"op-btn"},[0===t.isLogin?r("el-button",{staticClass:"btn main-btn",attrs:{type:"primary",plain:""},on:{click:t.login}},[t._v("登录")]):r("el-button",{staticClass:"btn main-btn",attrs:{type:"primary",plain:""},on:{click:t.register}},[t._v("注册")]),r("el-button",{staticClass:"btn other-btn",attrs:{type:"danger",plain:""},on:{click:t.reset}},[t._v("重置")]),0===t.isLogin?r("el-button",{staticClass:"btn other-btn",attrs:{plain:""},on:{click:t.switchCard}},[t._v("去注册")]):r("el-button",{staticClass:"btn other-btn",attrs:{plain:""},on:{click:t.switchCard}},[t._v("去登录")])],1):t._e(),2===t.isLogin?r("div",{staticClass:"welcome"},[r("h1",[t._v("你好")]),r("h3",[t._v(t._s(t.username))]),r("el-button",{staticClass:"btn",attrs:{type:"danger",plain:""},on:{click:t.logout}},[t._v("退出登录")])],1):t._e()],1)},m=[],h=r(2568),v=r.n(h),b=o["default"].extend({name:"SHomeForm",data:function(){var t=this,e=function(e,r,n){t.$http.post({url:"/user/check_username",data:{username:r}}).then((function(t){var e=t.data;e.result?n():n(new Error("username has been existed"))}))},r=function(t,e,r){if(e){var n=/^\w+@\w+\.\w+$/;n.test(e)?r():r(new Error("invalid email"))}else r()};return{loginModel:{username:"",password:"",captcha:""},loginRules:{username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur"}]},registerModel:{username:"",password:"",email:""},registerRules:{username:[{required:!0,trigger:"blur"},{min:5,max:10,trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,trigger:"blur"},{min:10,max:20,trigger:"blur"}],email:[{validator:r,trigger:"blur"}]}}},props:{isLogin:{type:Number,required:!0}},methods:{switchCard:function(){this.$emit("switch")},reset:function(){this.$refs.form.resetFields()},login:function(){var t=this;this.$refs.form.validate((function(e){e&&t.$http.post({url:"/user/login",data:(0,s.pi)((0,s.pi)({},t.loginModel),{password:v()(v()(v()(t.loginModel.password)))})}).then((function(e){var r=e.data;if(r.status){var n=(0,s.pi)((0,s.pi)({},r.userInfo),{isLogin:!0});localStorage.setItem("cinnamon-token",r.token),localStorage.setItem("cinnamon-info",JSON.stringify(n))}else t.$refs.pwdInput.resetField();t.$message({type:r.status?"success":"error",message:r.msg,onClose:function(){r.status&&location.reload()},duration:1500})}))}))},register:function(){var t=this;this.$refs.form.validate((function(e){e&&t.$http.post({url:"/user/register",data:(0,s.pi)((0,s.pi)({},t.registerModel),{password:v()(v()(v()(t.registerModel.password)))})}).then((function(e){var r=e.data;t.$message({type:r.status?"success":"error",message:r.msg,duration:1500}),r.status&&(t.switchCard(),t.reset())}))}))},logout:function(){var t=this;location.reload(),localStorage.removeItem("cinnamon-token"),localStorage.removeItem("cinnamon-info"),setTimeout((function(){return t.$emit("logout")}),500)},inputBorderRadius:function(){var t=document.querySelectorAll(".el-input__inner");t.forEach((function(t){return t.style.borderRadius="0"}))}},computed:{models:function(){return 0===this.isLogin?this.loginModel:this.registerModel},rules:function(){return 0===this.isLogin?this.loginRules:this.registerRules},username:function(){var t=localStorage.getItem("cinnamon-info");return t?JSON.parse(t).username:""}},watch:{isLogin:function(){var t=this,e=this.$refs.form;e.resetFields(),this.$nextTick((function(){e.clearValidate(),t.inputBorderRadius()}))}},created:function(){var t=JSON.parse(localStorage.getItem("cinnamon-info"));t&&t.isLogin&&this.$emit("login")},mounted:function(){this.inputBorderRadius()}}),_=b,y=(0,u.Z)(_,g,m,!1,null,"5f268d6f",null),w=y.exports,k=r(2648),x=o["default"].extend({name:"HomeView",data:function(){return{latestArticles:[],carousel:[],isLogin:0,bodyWidth:0}},methods:{},computed:{blocks:function(){return this.bodyWidth<=768?2:4}},components:{SHomeForm:w,SLink:a.Z,Life:p},created:function(){var t=this;this.$http.get({url:"/article/get_latest"}).then((function(e){var r=e.data;t.latestArticles=r.articles.filter((function(t){return!t.deleted})).map((function(t){return(0,s.pi)((0,s.pi)({},t),{title:t.title.length>8?"".concat(t.title.substring(0,8),"..."):t.title,digest:t.digest.length>35?"".concat(t.digest.substring(0,35),"..."):t.digest,coverUrl:"".concat(k.Z.SERVER_URL).concat(t.coverUrl)})}))})),this.carousel=[{id:"12345",url:r(9995)}]},mounted:function(){var t=this;this.bodyWidth=document.body.clientWidth,window.onresize=function(){return t.bodyWidth=document.body.clientWidth}}}),C=x,L=(0,u.Z)(C,n,i,!1,null,"26e68b1b",null),S=L.exports},487:function(t){var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},1012:function(t){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],s=0;s<4;s++)8*n+6*s<=8*t.length?r.push(e.charAt(i>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return r}};t.exports=r})()},8738:function(t){function e(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&e(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(e(t)||r(t)||!!t._isBuffer)}},2568:function(t,e,r){(function(){var e=r(1012),n=r(487).utf8,i=r(8738),s=r(487).bin,o=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?s.stringToBytes(t):n.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var a=e.bytesToWords(t),l=8*t.length,c=1732584193,u=-271733879,d=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;var g=o._ff,m=o._gg,h=o._hh,v=o._ii;for(p=0;p<a.length;p+=16){var b=c,_=u,y=d,w=f;c=g(c,u,d,f,a[p+0],7,-680876936),f=g(f,c,u,d,a[p+1],12,-389564586),d=g(d,f,c,u,a[p+2],17,606105819),u=g(u,d,f,c,a[p+3],22,-1044525330),c=g(c,u,d,f,a[p+4],7,-176418897),f=g(f,c,u,d,a[p+5],12,1200080426),d=g(d,f,c,u,a[p+6],17,-1473231341),u=g(u,d,f,c,a[p+7],22,-45705983),c=g(c,u,d,f,a[p+8],7,1770035416),f=g(f,c,u,d,a[p+9],12,-1958414417),d=g(d,f,c,u,a[p+10],17,-42063),u=g(u,d,f,c,a[p+11],22,-1990404162),c=g(c,u,d,f,a[p+12],7,1804603682),f=g(f,c,u,d,a[p+13],12,-40341101),d=g(d,f,c,u,a[p+14],17,-1502002290),u=g(u,d,f,c,a[p+15],22,1236535329),c=m(c,u,d,f,a[p+1],5,-165796510),f=m(f,c,u,d,a[p+6],9,-1069501632),d=m(d,f,c,u,a[p+11],14,643717713),u=m(u,d,f,c,a[p+0],20,-373897302),c=m(c,u,d,f,a[p+5],5,-701558691),f=m(f,c,u,d,a[p+10],9,38016083),d=m(d,f,c,u,a[p+15],14,-660478335),u=m(u,d,f,c,a[p+4],20,-405537848),c=m(c,u,d,f,a[p+9],5,568446438),f=m(f,c,u,d,a[p+14],9,-1019803690),d=m(d,f,c,u,a[p+3],14,-187363961),u=m(u,d,f,c,a[p+8],20,1163531501),c=m(c,u,d,f,a[p+13],5,-1444681467),f=m(f,c,u,d,a[p+2],9,-51403784),d=m(d,f,c,u,a[p+7],14,1735328473),u=m(u,d,f,c,a[p+12],20,-1926607734),c=h(c,u,d,f,a[p+5],4,-378558),f=h(f,c,u,d,a[p+8],11,-2022574463),d=h(d,f,c,u,a[p+11],16,1839030562),u=h(u,d,f,c,a[p+14],23,-35309556),c=h(c,u,d,f,a[p+1],4,-1530992060),f=h(f,c,u,d,a[p+4],11,1272893353),d=h(d,f,c,u,a[p+7],16,-155497632),u=h(u,d,f,c,a[p+10],23,-1094730640),c=h(c,u,d,f,a[p+13],4,681279174),f=h(f,c,u,d,a[p+0],11,-358537222),d=h(d,f,c,u,a[p+3],16,-722521979),u=h(u,d,f,c,a[p+6],23,76029189),c=h(c,u,d,f,a[p+9],4,-640364487),f=h(f,c,u,d,a[p+12],11,-421815835),d=h(d,f,c,u,a[p+15],16,530742520),u=h(u,d,f,c,a[p+2],23,-995338651),c=v(c,u,d,f,a[p+0],6,-198630844),f=v(f,c,u,d,a[p+7],10,1126891415),d=v(d,f,c,u,a[p+14],15,-1416354905),u=v(u,d,f,c,a[p+5],21,-57434055),c=v(c,u,d,f,a[p+12],6,1700485571),f=v(f,c,u,d,a[p+3],10,-1894986606),d=v(d,f,c,u,a[p+10],15,-1051523),u=v(u,d,f,c,a[p+1],21,-2054922799),c=v(c,u,d,f,a[p+8],6,1873313359),f=v(f,c,u,d,a[p+15],10,-30611744),d=v(d,f,c,u,a[p+6],15,-1560198380),u=v(u,d,f,c,a[p+13],21,1309151649),c=v(c,u,d,f,a[p+4],6,-145523070),f=v(f,c,u,d,a[p+11],10,-1120210379),d=v(d,f,c,u,a[p+2],15,718787259),u=v(u,d,f,c,a[p+9],21,-343485551),c=c+b>>>0,u=u+_>>>0,d=d+y>>>0,f=f+w>>>0}return e.endian([c,u,d,f])};o._ff=function(t,e,r,n,i,s,o){var a=t+(e&r|~e&n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._gg=function(t,e,r,n,i,s,o){var a=t+(e&n|r&~n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._hh=function(t,e,r,n,i,s,o){var a=t+(e^r^n)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._ii=function(t,e,r,n,i,s,o){var a=t+(r^(e|~n))+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,r){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var n=e.wordsToBytes(o(t,r));return r&&r.asBytes?n:r&&r.asString?s.bytesToString(n):e.bytesToHex(n)}})()},9995:function(t,e,r){"use strict";t.exports=r.p+"img/home_bg.e9ed2af7.png"}}]);
//# sourceMappingURL=303.d4c6dd42.js.map